# 順位相関係数
## Spearman の順位相関係数
1. 変数x,yに対して小さい方から順位をつける
1. x, y の順位の差をとる
1. di から順位相関係数を求める 
1. r == 1 正の完全相関, r == -1 負の完全相関

|i=|1|2|3|...|n|
|---|---|---|---|---|---|
|変数xi|x1|x2|x3|...|xn|
|変数yi|y1|y2|y3|...|yn|
|↓||||||
|順位rxi|rx1|rx2|rx3|...|rxn|
|順位ryi|ry1|ry2|ry3|...|ryn|
|ランク差di|d1|d2|d3|...|dn| 

`rs = 1-(6*Σ[i=1→n]di^2/n^3-n)`

## Kendall の一致係数: W（順序尺度による重相関）

1. 要因間順位をつける（=行ごと）
1. 列ごとに順位の和を出す（Ri）
1. 平方和 `S=Σ[i=1→k](Ri-Rbar)^2 = Σ[i=1→k]Ri^2 - (Σ[i=1→k]Ri)/k^2`
1. `W=12S/n^2(k^3-k), 0<=W<=1`

||要因i=1|2|3|...|...|k|
|---|---|---|---|---|---|---|
|データj=1|1|.|3|.|k|.|
|...|2|1|k|6|3|7|
|n|7|.|.|k|.|1|
|Ri|R1|R2|R3|...|...|Rk|

### Kendall の一致係数 W の検定
- Friedman 検定の統計量 `Χ0^2 = n(k-1)W`→ [第8回 Friedman 検定](./08.md)
- k<=4: Friedman 検定表
- k>4: 自由度 k-1 のΧ^2分布
